<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Extending dataknead" href="extending.html" /><link rel="prev" title="API documentation" href="api.html" />

    <meta name="generator" content="sphinx-3.4.2, furo 2020.12.30.beta24"/>
        <title>Command line utility - dataknead</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script defer="defer" src="_static/jquery.js"></script>
    <script defer="defer" src="_static/underscore.js"></script>
    <script defer="defer" src="_static/doctools.js"></script>
    <script defer="defer" src="_static/clipboard.min.js"></script>
    <script defer="defer" src="_static/copybutton.js"></script>
    <script defer src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">dataknead</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/dataknead-logo.svg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">dataknead</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Command line utility</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending dataknead</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev-info.html">Development information</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release history</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/hay/dataknead">Source on Github</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="command-line-utility">
<h1>Command line utility<a class="headerlink" href="#command-line-utility" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">dataknead</span></code> includes the <code class="docutils literal notranslate"><span class="pre">knead</span></code> command line utility you can use for simple conversion of data formats.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">knead</span> <span class="n">cities</span><span class="o">.</span><span class="n">csv</span> <span class="n">cities</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>Will transform a filed called <code class="docutils literal notranslate"><span class="pre">cities.csv</span></code> to a file called <code class="docutils literal notranslate"><span class="pre">cities.json</span></code> and is equivalent to this piece of Python code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Knead</span><span class="p">(</span><span class="s2">"cities.csv"</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">"cities.json"</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">knead</span></code> can also be used as a quick way of viewing the contents of a file, just give it an input file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">knead</span> <span class="n">cities</span><span class="o">.</span><span class="n">csv</span>
</pre></div>
</div>
<p>This is equivalant to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">Knead</span><span class="p">(</span><span class="s2">"cities.csv"</span><span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">())</span>
</pre></div>
</div>
<p>You can also specify the input and output formats, when those are not available in the file extension, or if you want to overwrite them. This is useful in combination with the <code class="docutils literal notranslate"><span class="pre">--stdin</span></code> option, which allows you to take data from stdin and directly transform output from a HTTP API to something else.</p>
<p>For example, this API request gives you back a JSON summary of the article for Amsterdam on the English Wikipedia.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">en</span><span class="o">.</span><span class="n">wikipedia</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">rest_v1</span><span class="o">/</span><span class="n">page</span><span class="o">/</span><span class="n">summary</span><span class="o">/</span><span class="n">Amsterdam</span>
</pre></div>
</div>
<p>Piping that into dataknead using <code class="docutils literal notranslate"><span class="pre">--stdin</span></code> and <code class="docutils literal notranslate"><span class="pre">-if</span> <span class="pre">json</span></code> gives you a nicely formatted file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">en</span><span class="o">.</span><span class="n">wikipedia</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">rest_v1</span><span class="o">/</span><span class="n">page</span><span class="o">/</span><span class="n">summary</span><span class="o">/</span><span class="n">Amsterdam</span> <span class="o">|</span> <span class="n">knead</span> <span class="o">--</span><span class="n">stdin</span> <span class="o">-</span><span class="k">if</span> <span class="n">json</span>
</pre></div>
</div>
<div class="section" id="all-options">
<h2>All options<a class="headerlink" href="#all-options" title="Permalink to this headline">¶</a></h2>
<p>You’ll see this when running <code class="docutils literal notranslate"><span class="pre">knead</span> <span class="pre">-h</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usage</span><span class="p">:</span> <span class="n">knead</span> <span class="p">[</span><span class="o">-</span><span class="n">h</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">v</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="nb">input</span><span class="o">-</span><span class="nb">format</span> <span class="n">INPUT_FORMAT</span><span class="p">]</span>
             <span class="p">[</span><span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="nb">format</span> <span class="n">OUTPUT_FORMAT</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">stdin</span><span class="p">]</span>
             <span class="p">[</span><span class="nb">input</span><span class="p">]</span> <span class="p">[</span><span class="n">output</span><span class="p">]</span>

<span class="n">Fluently</span> <span class="n">process</span> <span class="ow">and</span> <span class="n">convert</span> <span class="n">data</span> <span class="n">formats</span> <span class="n">like</span> <span class="n">JSON</span> <span class="ow">and</span> <span class="n">CSV</span>

<span class="n">positional</span> <span class="n">arguments</span><span class="p">:</span>
  <span class="nb">input</span>                 <span class="n">Input</span> <span class="n">file</span>
  <span class="n">output</span>                <span class="n">Output</span> <span class="n">file</span>

<span class="n">optional</span> <span class="n">arguments</span><span class="p">:</span>
  <span class="o">-</span><span class="n">h</span><span class="p">,</span> <span class="o">--</span><span class="n">help</span>            <span class="n">show</span> <span class="n">this</span> <span class="n">help</span> <span class="n">message</span> <span class="ow">and</span> <span class="n">exit</span>
  <span class="o">-</span><span class="n">v</span><span class="p">,</span> <span class="o">--</span><span class="n">verbose</span>         <span class="n">Show</span> <span class="n">debug</span> <span class="n">information</span>
  <span class="o">--</span><span class="nb">input</span><span class="o">-</span><span class="nb">format</span> <span class="n">INPUT_FORMAT</span><span class="p">,</span> <span class="o">-</span><span class="k">if</span> <span class="n">INPUT_FORMAT</span>
                        <span class="n">Input</span> <span class="nb">format</span>
  <span class="o">--</span><span class="n">output</span><span class="o">-</span><span class="nb">format</span> <span class="n">OUTPUT_FORMAT</span><span class="p">,</span> <span class="o">-</span><span class="n">of</span> <span class="n">OUTPUT_FORMAT</span>
                        <span class="n">Output</span> <span class="nb">format</span>
  <span class="o">--</span><span class="n">stdin</span>               <span class="n">Take</span> <span class="n">data</span> <span class="kn">from</span> <span class="nn">stdin</span> <span class="p">(</span><span class="n">requires</span> <span class="o">--</span><span class="nb">input</span><span class="o">-</span><span class="nb">format</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="extending.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Extending dataknead</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="api.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">API documentation</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; Hay Kranen
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Command line utility</a><ul>
<li><a class="reference internal" href="#all-options">All options</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
  </body>
</html>